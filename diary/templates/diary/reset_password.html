{% extends 'diary/base.html' %}

{% block content %}
<div class="container mt-5">
    <h3>Reset Password</h3>
    <form method="POST">
        {% csrf_token %}

        <!-- New Password Field with Eye Icon -->
        <div class="position-relative">
            <input type="password" name="password" id="newPassword" placeholder="New Password"
                   class="form-control" required style="padding-right: 40px;">
            <i class="fa-solid fa-eye" id="toggleNewPassword"
               style="position: absolute; top: 50%; right: 15px; transform: translateY(-50%); cursor: pointer;"></i>
        </div>

        <!-- Confirm Password Field with Eye Icon -->
        <div class="position-relative mt-3">
            <input type="password" name="confirm_password" id="confirmPassword" placeholder="Confirm Password"
                   class="form-control" required style="padding-right: 40px;">
            <i class="fa-solid fa-eye" id="toggleConfirmPassword"
               style="position: absolute; top: 50%; right: 15px; transform: translateY(-50%); cursor: pointer;"></i>
        </div>

        <button type="submit" class="btn btn-success mt-4">Reset Password</button>
    </form>
</div>

<!-- JS for toggling -->
<script>
    const newPassword = document.getElementById("newPassword");
    const toggleNewPassword = document.getElementById("toggleNewPassword");
    toggleNewPassword.addEventListener("click", () => {
        const isHidden = newPassword.type === "password";
        newPassword.type = isHidden ? "text" : "password";
        toggleNewPassword.classList.toggle("fa-eye");
        toggleNewPassword.classList.toggle("fa-eye-slash");
    });

    const confirmPassword = document.getElementById("confirmPassword");
    const toggleConfirmPassword = document.getElementById("toggleConfirmPassword");
    toggleConfirmPassword.addEventListener("click", () => {
        const isHidden = confirmPassword.type === "password";
        confirmPassword.type = isHidden ? "text" : "password";
        toggleConfirmPassword.classList.toggle("fa-eye");
        toggleConfirmPassword.classList.toggle("fa-eye-slash");
    });
</script>
{% endblock %}
